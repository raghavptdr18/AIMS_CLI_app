


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > studentCourse</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.AIMS</a>
</div>

<h1>Coverage Summary for Class: studentCourse (org.AIMS)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">studentCourse</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    92.3%
  </span>
  <span class="absValue">
    (12/13)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    57.9%
  </span>
  <span class="absValue">
    (259/447)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package org.AIMS;
&nbsp;
&nbsp;import java.io.IOException;
&nbsp;import java.sql.*;
&nbsp;import java.util.Scanner;
&nbsp;import java.sql.Connection;
&nbsp;import java.sql.DriverManager;
&nbsp;import java.sql.ResultSet;
&nbsp;import java.sql.SQLException;
&nbsp;import java.sql.Statement;
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;public class studentCourse {</b>
&nbsp;    public static void flow(String username) throws IOException {
&nbsp;
<b class="nc">&nbsp;        // JDBC</b>
<b class="fc">&nbsp;        Connection conn = null;</b>
<b class="fc">&nbsp;        Statement stmt = null;</b>
&nbsp;
<b class="nc">&nbsp;        try {</b>
<b class="fc">&nbsp;            conn=DBConnector.getConnection();</b>
<b class="fc">&nbsp;            stmt = conn.createStatement();</b>
<b class="nc">&nbsp;        }catch (Exception err)</b>
<b class="nc">&nbsp;        {</b>
<b class="nc">&nbsp;            err.printStackTrace();</b>
<b class="fc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;        Scanner in = new Scanner(System.in);</b>
&nbsp;        int option;
&nbsp;
&nbsp;
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;        System.out.println(&quot;1. View Course Offerings&quot;);</b>
<b class="fc">&nbsp;        System.out.println(&quot;2. Register/Deregister Course&quot;);</b>
<b class="fc">&nbsp;        System.out.println(&quot;3. view my Courses&quot;);</b>
<b class="fc">&nbsp;        System.out.println(&quot;PRESS 0 FOR GO BACK&quot;);</b>
<b class="fc">&nbsp;        System.out.println(&quot;Enter Option&quot;);</b>
<b class="fc">&nbsp;        option = in.nextInt();</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;        if (option == 1) {</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;            int sem = getsem(username);</b>
<b class="fc">&nbsp;            viewCourseOfferings(username,sem);</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;            System.out.println(&quot;PRESS 0 FOR GO BACK&quot;);</b>
<b class="fc">&nbsp;            int back = in.nextInt();</b>
<b class="fc">&nbsp;            if (back == 0)</b>
<b class="fc">&nbsp;                studentCourse.flow(username);</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        }</b>
<b class="fc">&nbsp;        else if (option == 2) {</b>
&nbsp;
&nbsp;            // check window for edit 
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;            int check = 0;</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;            check = checkWindow(check);</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;            if(check==1){</b>
<b class="nc">&nbsp;            </b>
<b class="fc">&nbsp;            System.out.println(&quot;1. Register Course&quot;);</b>
<b class="fc">&nbsp;            System.out.println(&quot;2. Deregister Course&quot;);</b>
<b class="fc">&nbsp;            System.out.println(&quot;Enter Option&quot;);</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;            int op = in.nextInt();</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;            if (op == 1) {</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;                System.out.println(&quot;1. Enter course id&quot;);</b>
<b class="fc">&nbsp;                String id = in.next();</b>
<b class="fc">&nbsp;                registerDeregister.registerDeregisterStudent(1,id,username);</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;            } // register course</b>
<b class="fc">&nbsp;            else if (op == 2) {</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;                System.out.println(&quot;1. Enter course id for Deregester&quot;);</b>
<b class="fc">&nbsp;                String id = in.next();</b>
<b class="fc">&nbsp;                registerDeregister.registerDeregisterStudent(2,id,username);</b>
<b class="nc">&nbsp;            } // deregister course</b>
<b class="fc">&nbsp;        }</b>
&nbsp;        else 
<b class="nc">&nbsp;        {</b>
<b class="nc">&nbsp;            System.out.println(&quot;Window for register and deregister the course is closed&quot;);</b>
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;            System.out.println(&quot;PRESS 0 FOR GO BACK&quot;);</b>
<b class="fc">&nbsp;            int back = in.nextInt();</b>
<b class="fc">&nbsp;            if (back == 0) studentCourse.flow(username);</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        }</b>
<b class="fc">&nbsp;        else if (option == 3) {</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;            int sem = getsem(username);</b>
<b class="fc">&nbsp;            viewMyCourse(username,sem);</b>
<b class="fc">&nbsp;            System.out.println(&quot;PRESS 0 FOR GO BACK&quot;);</b>
<b class="fc">&nbsp;            int back = in.nextInt();</b>
<b class="fc">&nbsp;            if (back == 0) studentCourse.flow(username);</b>
<b class="nc">&nbsp;        } // view my courses</b>
<b class="fc">&nbsp;        else if (option == 0) student.afterLogin(username);</b>
&nbsp;    }
&nbsp;
<b class="fc">&nbsp;    public static int getsem(String username) {</b>
<b class="fc">&nbsp;        Connection conn = null;</b>
<b class="fc">&nbsp;        Statement stmt = null;</b>
<b class="fc">&nbsp;        try {</b>
<b class="fc">&nbsp;            Class.forName(&quot;org.postgresql.Driver&quot;);</b>
<b class="fc">&nbsp;            conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/aims&quot;, &quot;postgres&quot;, &quot;1234&quot;);</b>
<b class="fc">&nbsp;            stmt = conn.createStatement();</b>
<b class="fc">&nbsp;            String sql = &quot;SELECT semester FROM user_details WHERE username = &#39;&quot; + username + &quot;&#39;&quot;;</b>
<b class="fc">&nbsp;            ResultSet rs = stmt.executeQuery(sql);</b>
<b class="fc">&nbsp;            if (rs.next()) {</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;                int sem = rs.getInt(1);</b>
<b class="fc">&nbsp;                return sem;</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        } catch (SQLException se) {</b>
<b class="nc">&nbsp;            se.printStackTrace();</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        } catch (Exception e) {</b>
<b class="nc">&nbsp;            e.printStackTrace();</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        } finally {</b>
<b class="fc">&nbsp;            try {</b>
<b class="fc">&nbsp;                if (stmt != null) {</b>
<b class="fc">&nbsp;                    stmt.close();</b>
<b class="nc">&nbsp;                }</b>
<b class="fc">&nbsp;            } catch (SQLException se2) {</b>
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            try {</b>
<b class="fc">&nbsp;                if (conn != null) {</b>
<b class="fc">&nbsp;                    conn.close();</b>
<b class="nc">&nbsp;                }</b>
<b class="nc">&nbsp;            } catch (SQLException se) {</b>
<b class="fc">&nbsp;                se.printStackTrace();</b>
<b class="fc">&nbsp;            }</b>
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
<b class="fc">&nbsp;    public static int getbatch(String username) {</b>
<b class="fc">&nbsp;        Connection conn = null;</b>
<b class="fc">&nbsp;        Statement stmt = null;</b>
<b class="fc">&nbsp;        try {</b>
<b class="fc">&nbsp;            Class.forName(&quot;org.postgresql.Driver&quot;);</b>
<b class="fc">&nbsp;            conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/aims&quot;, &quot;postgres&quot;, &quot;1234&quot;);</b>
<b class="fc">&nbsp;            stmt = conn.createStatement();</b>
<b class="fc">&nbsp;            String sql = &quot;SELECT batch FROM user_details WHERE username = &#39;&quot; + username + &quot;&#39;&quot;;</b>
<b class="fc">&nbsp;            ResultSet rs = stmt.executeQuery(sql);</b>
<b class="fc">&nbsp;            if (rs.next()) {</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;                int sem = rs.getInt(1);</b>
<b class="fc">&nbsp;                return sem;</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        } catch (SQLException se) {</b>
<b class="nc">&nbsp;            se.printStackTrace();</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        } catch (Exception e) {</b>
<b class="nc">&nbsp;            e.printStackTrace();</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        } finally {</b>
<b class="fc">&nbsp;            try {</b>
<b class="fc">&nbsp;                if (stmt != null) {</b>
<b class="fc">&nbsp;                    stmt.close();</b>
<b class="nc">&nbsp;                }</b>
<b class="fc">&nbsp;            } catch (SQLException se2) {</b>
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            try {</b>
<b class="fc">&nbsp;                if (conn != null) {</b>
<b class="fc">&nbsp;                    conn.close();</b>
<b class="nc">&nbsp;                }</b>
<b class="nc">&nbsp;            } catch (SQLException se) {</b>
<b class="fc">&nbsp;                se.printStackTrace();</b>
<b class="fc">&nbsp;            }</b>
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
<b class="fc">&nbsp;    public static double getcurrentsemCredits(String username) {</b>
<b class="fc">&nbsp;        Connection conn = null;</b>
<b class="fc">&nbsp;        Statement stmt = null;</b>
<b class="fc">&nbsp;        try {</b>
<b class="fc">&nbsp;            Class.forName(&quot;org.postgresql.Driver&quot;);</b>
<b class="fc">&nbsp;            conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/aims&quot;, &quot;postgres&quot;, &quot;1234&quot;);</b>
<b class="fc">&nbsp;            stmt = conn.createStatement();</b>
<b class="fc">&nbsp;            String sql = &quot;SELECT current_sem_credits FROM user_details WHERE username = &#39;&quot; + username + &quot;&#39;&quot;;</b>
<b class="fc">&nbsp;            ResultSet rs = stmt.executeQuery(sql);</b>
<b class="fc">&nbsp;            if (rs.next()) {</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;                Double credits = rs.getDouble(1);</b>
<b class="fc">&nbsp;                return credits;</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        } catch (SQLException se) {</b>
<b class="nc">&nbsp;            se.printStackTrace();</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        } catch (Exception e) {</b>
<b class="nc">&nbsp;            e.printStackTrace();</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        } finally {</b>
<b class="fc">&nbsp;            try {</b>
<b class="fc">&nbsp;                if (stmt != null) {</b>
<b class="fc">&nbsp;                    stmt.close();</b>
<b class="nc">&nbsp;                }</b>
<b class="fc">&nbsp;            } catch (SQLException se2) {</b>
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            try {</b>
<b class="fc">&nbsp;                if (conn != null) {</b>
<b class="fc">&nbsp;                    conn.close();</b>
<b class="nc">&nbsp;                }</b>
<b class="nc">&nbsp;            } catch (SQLException se) {</b>
<b class="fc">&nbsp;                se.printStackTrace();</b>
<b class="fc">&nbsp;            }</b>
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
<b class="fc">&nbsp;    public static double getccc(String id) {</b>
<b class="fc">&nbsp;        Connection conn = null;</b>
<b class="fc">&nbsp;        Statement stmt = null;</b>
&nbsp;
<b class="fc">&nbsp;        try {</b>
<b class="fc">&nbsp;            Class.forName(&quot;org.postgresql.Driver&quot;);</b>
<b class="fc">&nbsp;            conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/aims&quot;, &quot;postgres&quot;, &quot;1234&quot;);</b>
<b class="fc">&nbsp;            stmt = conn.createStatement();</b>
<b class="fc">&nbsp;            if (conn != null) {</b>
<b class="fc">&nbsp;                System.out.println(&quot;connection OK&quot;);</b>
<b class="nc">&nbsp;            } else {</b>
<b class="nc">&nbsp;                System.out.println(&quot;connection FAILED&quot;);</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;        } catch (Exception e) {</b>
<b class="fc">&nbsp;            System.out.println(e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;        try {
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;            String sql = &quot;SELECT credit FROM course_catalog_admin WHERE course_id = ?&quot;;</b>
<b class="fc">&nbsp;                    PreparedStatement pstmt = conn.prepareStatement(sql);</b>
<b class="fc">&nbsp;                    pstmt.setString(1, id);</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;                    try (ResultSet rs = pstmt.executeQuery()) {</b>
<b class="fc">&nbsp;                        if (rs.next()) {</b>
<b class="fc">&nbsp;                            double ccc = (double) rs.getInt(1);</b>
<b class="fc">&nbsp;                            System.out.println(&quot;Current course credits: &quot; + ccc);</b>
<b class="fc">&nbsp;                            return ccc;</b>
<b class="nc">&nbsp;                        } else {</b>
<b class="nc">&nbsp;                            System.out.println(&quot;No results found&quot;);</b>
<b class="nc">&nbsp;                            return 0;</b>
<b class="fc">&nbsp;                        }</b>
<b class="fc">&nbsp;                    }</b>
<b class="nc">&nbsp;            </b>
<b class="nc">&nbsp;        } catch (Exception e) {</b>
<b class="nc">&nbsp;            System.out.println(e);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        return 0;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean requisite_check(String id , String username) {
&nbsp;
&nbsp;        // id =&gt; course want to register
&nbsp;        // rid =&gt; prerequisite id
&nbsp;
<b class="fc">&nbsp;        // JDBC</b>
<b class="fc">&nbsp;        Connection conn = null;</b>
<b class="fc">&nbsp;        Statement stmt = null;</b>
&nbsp;
<b class="fc">&nbsp;        try {</b>
<b class="fc">&nbsp;            conn=DBConnector.getConnection();</b>
<b class="fc">&nbsp;            stmt = conn.createStatement();</b>
<b class="nc">&nbsp;        }catch (Exception err)</b>
<b class="nc">&nbsp;        {</b>
<b class="fc">&nbsp;            err.printStackTrace();</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;        // getting requesite id
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        String rid =&quot;-1&quot;;</b>
&nbsp;
<b class="fc">&nbsp;        try {</b>
<b class="fc">&nbsp;            String sql = &quot;SELECT prerequisites FROM course_catalog_admin WHERE course_id= ?&quot;;</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;            PreparedStatement pstmt = conn.prepareStatement(sql) ;</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;            pstmt.setString(1, id);</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;            try (ResultSet rs = pstmt.executeQuery()) {</b>
<b class="fc">&nbsp;                if (rs.next()) {</b>
<b class="fc">&nbsp;                    rid = rs.getString(1);</b>
<b class="fc">&nbsp;                }</b>
<b class="fc">&nbsp;                rs.close();</b>
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;            pstmt.close();</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        } catch (SQLException e) {</b>
<b class="fc">&nbsp;            e.printStackTrace();</b>
<b class="fc">&nbsp;        }</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        System.out.println(rid);</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        if(rid.equals(&quot;-1&quot;)) return true;</b>
<b class="nc">&nbsp;        // check if student done this requesite id course</b>
<b class="nc">&nbsp;        if(!rid.equals(&quot;-1&quot;)){</b>
<b class="nc">&nbsp;            try {</b>
<b class="nc">&nbsp;                String sql = &quot;SELECT * FROM student_registration WHERE course_id= &#39;&quot;+rid+&quot;&#39; AND username= &#39;&quot;+username+&quot;&#39; AND stat=&#39;completed&#39; &quot;;</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;                PreparedStatement pstmt = conn.prepareStatement(sql) ;</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;                try (ResultSet rs = pstmt.executeQuery()) {</b>
<b class="nc">&nbsp;                    if (rs.next()) {</b>
<b class="nc">&nbsp;                        return true;</b>
<b class="nc">&nbsp;                    }</b>
<b class="nc">&nbsp;                    rs.close();</b>
<b class="nc">&nbsp;                }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;                pstmt.close();</b>
<b class="nc">&nbsp;                conn.close();</b>
<b class="nc">&nbsp;                return false;</b>
<b class="nc">&nbsp;            } catch (SQLException e) {</b>
<b class="nc">&nbsp;                e.printStackTrace();</b>
<b class="nc">&nbsp;                return false;</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        else return true;</b>
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static boolean cgCheck(String username, String id , int sem) {
&nbsp;
<b class="fc">&nbsp;        // JDBC</b>
<b class="fc">&nbsp;        Connection conn = null;</b>
<b class="nc">&nbsp;        Statement stmt = null;</b>
&nbsp;
<b class="fc">&nbsp;        try {</b>
<b class="fc">&nbsp;            conn=DBConnector.getConnection();</b>
<b class="nc">&nbsp;            stmt = conn.createStatement();</b>
<b class="nc">&nbsp;        }catch (Exception err)</b>
<b class="nc">&nbsp;        {</b>
<b class="fc">&nbsp;            err.printStackTrace();</b>
<b class="nc">&nbsp;        }</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        Double cgpa1=(double) 0;</b>
<b class="nc">&nbsp;        Double cgpaCourse=(double) 0;</b>
&nbsp;
&nbsp;        // getting student cgpa
<b class="fc">&nbsp;</b>
<b class="nc">&nbsp;        cgpa1 = cgpa.flow(username,sem);</b>
&nbsp;
&nbsp;        // getting course cgpa constraint
&nbsp;
<b class="fc">&nbsp;        try {</b>
<b class="fc">&nbsp;            String query = &quot;SELECT cgpa_constraint FROM course_offerings WHERE course_id = &#39;&quot; + id + &quot;&#39;&quot;;</b>
<b class="fc">&nbsp;            Statement statement = conn.createStatement();</b>
<b class="nc">&nbsp;            ResultSet resultSet = statement.executeQuery(query);</b>
<b class="fc">&nbsp;</b>
<b class="nc">&nbsp;            if (resultSet.next()) { // check if there is a row in the result set</b>
<b class="nc">&nbsp;                cgpaCourse=resultSet.getDouble(1);</b>
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            resultSet.close();</b>
<b class="nc">&nbsp;            statement.close();</b>
&nbsp;//            conn.close();
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        } catch (SQLException e) {</b>
<b class="nc">&nbsp;            e.printStackTrace();</b>
<b class="fc">&nbsp;            System.out.println(&quot;Failed Updation&quot;);</b>
<b class="nc">&nbsp;        }</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        if(cgpa1&gt;=cgpaCourse) return true;</b>
<b class="nc">&nbsp;        else return false;</b>
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public static double creditlimit(String username, int sem) {
<b class="fc">&nbsp;</b>
<b class="nc">&nbsp;        if(sem==1 || sem==2) return 18;</b>
&nbsp;
<b class="fc">&nbsp;        // JDBC</b>
<b class="fc">&nbsp;        Connection conn = null;</b>
<b class="nc">&nbsp;        Statement stmt = null;</b>
&nbsp;
<b class="fc">&nbsp;        try {</b>
<b class="fc">&nbsp;            conn=DBConnector.getConnection();</b>
<b class="nc">&nbsp;            stmt = conn.createStatement();</b>
<b class="nc">&nbsp;        }catch (Exception err)</b>
<b class="nc">&nbsp;        {</b>
<b class="fc">&nbsp;            err.printStackTrace();</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        try {</b>
<b class="nc">&nbsp;            String sql = &quot;SELECT SUM(course_catalog_admin.credit) FROM student_registration, course_catalog_admin WHERE student_registration.course_id = course_catalog_admin.course_id AND student_registration.username = ? AND (student_registration.semester = ? OR student_registration.semester = ?)&quot;;</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;            PreparedStatement pstmt = conn.prepareStatement(sql) ;</b>
<b class="fc">&nbsp;            pstmt.setString(1, username);</b>
<b class="fc">&nbsp;            pstmt.setInt(2, sem-1);</b>
<b class="nc">&nbsp;            pstmt.setInt(3, sem-2);</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;            try (ResultSet rs = pstmt.executeQuery()) {</b>
<b class="fc">&nbsp;                if (rs.next()) {</b>
<b class="fc">&nbsp;                    double sum = rs.getDouble(1);</b>
<b class="fc">&nbsp;                    System.out.println(&quot;Sum: &quot; + sum);</b>
<b class="nc">&nbsp;                    return (sum/2)*(1.25);</b>
<b class="nc">&nbsp;                }</b>
<b class="fc">&nbsp;                rs.close();</b>
<b class="nc">&nbsp;            }</b>
&nbsp;            pstmt.close();
<b class="nc">&nbsp;            conn.close();</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        catch (SQLException e) {</b>
<b class="nc">&nbsp;            e.printStackTrace();</b>
<b class="nc">&nbsp;            return -1;</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public static boolean viewCourseOfferings(String username, int sem) {
&nbsp;
&nbsp;        // JDBC
&nbsp;        Connection conn = null;
<b class="nc">&nbsp;        Statement stmt = null;</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        try {</b>
&nbsp;            conn=DBConnector.getConnection();
<b class="nc">&nbsp;            stmt = conn.createStatement();</b>
<b class="fc">&nbsp;        }catch (Exception err)</b>
<b class="fc">&nbsp;        {</b>
<b class="nc">&nbsp;            err.printStackTrace();</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        int batch = getbatch(username);</b>
<b class="fc">&nbsp;        try {</b>
<b class="fc">&nbsp;            String query = &quot;SELECT course_catalog_admin.course_id, course_offerings.instructor, course_catalog_admin.credit, course_offerings.cgpa_constraint, course_catalog_admin.ce, course_catalog_admin.prerequisites FROM course_catalog_admin, course_offerings WHERE course_catalog_admin.course_id = course_offerings.course_id AND course_catalog_admin.batch = &#39;&quot; + batch + &quot;&#39; AND course_catalog_admin.semester = &#39;&quot; + sem + &quot;&#39;&quot;; // view only that sem and batch</b>
<b class="nc">&nbsp;            // courses</b>
<b class="fc">&nbsp;            Statement statement = conn.createStatement();</b>
<b class="nc">&nbsp;            ResultSet resultSet = statement.executeQuery(query);</b>
<b class="fc">&nbsp;            while (resultSet.next()) {</b>
<b class="fc">&nbsp;                for (int i = 1; i &lt;= resultSet.getMetaData().getColumnCount(); i++) {</b>
<b class="fc">&nbsp;                    System.out.print(resultSet.getString(i) + &quot; &quot;);</b>
<b class="fc">&nbsp;                }</b>
<b class="fc">&nbsp;                System.out.println();</b>
<b class="nc">&nbsp;                conn.close();</b>
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            return true;</b>
<b class="nc">&nbsp;        } catch (SQLException e) {</b>
<b class="fc">&nbsp;            e.printStackTrace();</b>
<b class="nc">&nbsp;            return false;</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static boolean viewMyCourse(String username, int sem) {
&nbsp;
&nbsp;        // JDBC
&nbsp;        Connection conn = null;
<b class="nc">&nbsp;        Statement stmt = null;</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        try {</b>
&nbsp;            conn=DBConnector.getConnection();
<b class="nc">&nbsp;            stmt = conn.createStatement();</b>
<b class="fc">&nbsp;        }catch (Exception err)</b>
<b class="fc">&nbsp;        {</b>
<b class="nc">&nbsp;            err.printStackTrace();</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;        try {</b>
&nbsp;            String query = &quot;SELECT * FROM student_registration WHERE username = &#39;&quot; + username + &quot;&#39;&quot;;
<b class="nc">&nbsp;            Statement statement = conn.createStatement();</b>
<b class="fc">&nbsp;            ResultSet resultSet = statement.executeQuery(query);</b>
<b class="fc">&nbsp;            while (resultSet.next()) {</b>
<b class="fc">&nbsp;                for (int i = 1; i &lt;= resultSet.getMetaData().getColumnCount(); i++) {</b>
<b class="fc">&nbsp;                    System.out.print(resultSet.getString(i) + &quot; &quot;);</b>
<b class="nc">&nbsp;                }</b>
<b class="nc">&nbsp;                System.out.println();</b>
<b class="nc">&nbsp;                conn.close();</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return true;</b>
<b class="nc">&nbsp;        } catch (SQLException e) {</b>
<b class="fc">&nbsp;            e.printStackTrace();</b>
<b class="nc">&nbsp;            return false;</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
&nbsp;    }
&nbsp;    public static int checkWindow(int check) {
&nbsp;
&nbsp;        // JDBC
&nbsp;        Connection conn = null;
<b class="nc">&nbsp;        Statement stmt = null;</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        try {</b>
&nbsp;            conn=DBConnector.getConnection();
<b class="nc">&nbsp;            stmt = conn.createStatement();</b>
<b class="fc">&nbsp;        }catch (Exception err)</b>
<b class="fc">&nbsp;        {</b>
<b class="nc">&nbsp;            err.printStackTrace();</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
<b class="fc">&nbsp;        try {</b>
&nbsp;            String query = &quot;SELECT course_registration_student FROM flags&quot;;
<b class="nc">&nbsp;            Statement statement = conn.createStatement();</b>
<b class="fc">&nbsp;            ResultSet resultSet = statement.executeQuery(query);</b>
<b class="fc">&nbsp;            if(resultSet.next())</b>
<b class="fc">&nbsp;            {</b>
<b class="fc">&nbsp;                check = resultSet.getInt(1);</b>
<b class="nc">&nbsp;            }</b>
<b class="fc">&nbsp;        } catch (SQLException e) {</b>
<b class="nc">&nbsp;            e.printStackTrace();</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        return check;</b>
<b class="fc">&nbsp;    }</b>
<b class="fc">&nbsp;</b>
&nbsp;    public static boolean checkAvailability(String username , String id) {
&nbsp;
&nbsp;        // JDBC
&nbsp;        Connection conn = null;
<b class="fc">&nbsp;        Statement stmt = null;</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        try {</b>
&nbsp;            conn=DBConnector.getConnection();
<b class="fc">&nbsp;            stmt = conn.createStatement();</b>
<b class="fc">&nbsp;        }catch (Exception err)</b>
<b class="fc">&nbsp;        {</b>
<b class="nc">&nbsp;            err.printStackTrace();</b>
<b class="nc">&nbsp;        }</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        int batch = getbatch(username);</b>
<b class="fc">&nbsp;        int sem = getsem(username);</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        try {</b>
&nbsp;            String query = &quot;SELECT * FROM course_offerings , course_catalog_admin WHERE course_catalog_admin.course_id = course_offerings.course_id AND course_catalog_admin.batch = &#39;&quot;+batch+&quot;&#39; AND course_catalog_admin.semester= &#39;&quot;+sem+&quot;&#39; AND course_offerings.course_id = &#39;&quot;+id+&quot;&#39; &quot;;
<b class="fc">&nbsp;            Statement statement = conn.createStatement();</b>
<b class="fc">&nbsp;            ResultSet resultSet = statement.executeQuery(query);</b>
<b class="fc">&nbsp;            if(!resultSet.next())</b>
<b class="fc">&nbsp;            {</b>
<b class="fc">&nbsp;                return false;</b>
<b class="fc">&nbsp;            }</b>
<b class="nc">&nbsp;            else return true;</b>
<b class="nc">&nbsp;        } catch (SQLException e) {</b>
<b class="fc">&nbsp;            e.printStackTrace();</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        return true;</b>
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;}</b>
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-03-07 01:36</div>
</div>
</body>
</html>
